{"version":3,"sources":["9_custom-scripts.js","loadmore.js"],"names":["jQuery","document","ready","$","offset","body","clientWidth","click","toggleClass","event","target","closest","length","removeClass","waypoint","handler","this","element","addClass","setTimeout","effect","templates","post","data","concat","image","date","year","month","title","excerpt","link","review","content","e","trigger","container","find","ajaxurl","wp_params","text","posttype","tax_query","taxonomy","field","terms","operator","ajax","url","type","json","action","order","count","success","remove","tpl","forEach","append","error"],"mappings":";;;EAIAA,OAAOC,UAAUC,MAAM,SAAUC,GAC7B,IAAMC,EAASH,SAASI,KAAKC,YAAc,IAAM,MAAQ,iBACzDH,EAAE,sBAAsBI,MAAM,WAC1BJ,EAAE,SAASK,YAAY,eAG3BL,EAAEF,UAAUM,MAAM,SAAUE,GACnBN,EAAEM,EAAMC,QAAQC,QAAQ,SAASC,QAClCT,EAAE,SAASU,YAAY,eAI/BV,EAAE,iEAAiEI,MAAM,WACrEJ,EAAE,SAASU,YAAY,eAG3BV,EAAE,+CAA+CW,SAAS,CACtDC,QAAS,WACLZ,EAAEa,KAAKC,SAASC,SAAS,YAE7Bd,OAAAA,IAGJD,EAAE,0BAA0BW,SAAS,CACjCC,QAAS,WACLZ,EAAEa,KAAKC,SAASC,SAAS,YAE7Bd,OAAQ,mBAGZe,WAAW,WACPhB,EAAE,eAAeiB,OAAO,UACzB,OCpCPpB,OAAOC,UAAUC,MAAM,SAAUC,GAC/B,IAAMkB,EAAY,CAChBC,KAAM,SAAAC,GAAI,MAAA,0KAAAC,OAGkDD,EAAKE,MAHvD,+GAAAD,OAOqBD,EAAKG,KAP1B,sIAAAF,OAS0BD,EAAKI,KAT/B,kDAAAH,OAU2BD,EAAKK,MAVhC,4EAAAJ,OAceD,EAAKM,OAAS,GAd7B,8DAAAL,OAiBGD,EAAKO,SAAW,GAjBnB,iDAAAN,OAoBKD,EAAKQ,KApBV,8DAwBVC,OAAQ,SAAAT,GAAI,MAAA,mIAAAC,OAGuBD,EAAKM,OAAS,GAHrC,mEAAAL,OAMCD,EAAKU,SAAW,GANjB,oDAad9B,EAAE,oBAAoBI,MAAM,SAAU2B,GACpC,IAAMC,EAAUhC,EAAE+B,EAAExB,QACd0B,EAAYjC,EAAE,uBACdC,EAASgC,EAAUC,KAAK,kBAAkBzB,OACzC0B,EAAWC,UAAXD,QACPH,EAAQK,KAAK,WAEb,IAAIC,EAAWL,EAAUb,KAAK,aAAe,OACzCmB,EAAY,CAAC,CACfC,SAAU,WACVC,MAAO,OACPC,MAAO,CAAC,WACRC,SAAU,WAEI,WAAbL,IACDC,EAAY,CAAC,CACXC,SAAU,WACVC,MAAO,OACPC,MAAO,CAAC,cAGZ1C,EAAE4C,KAAK,CACLC,IAAKV,EACLW,KAAM,OACNC,MAAM,EACN3B,KAAM,CACJ4B,OAAQ,YACR/C,OAAAA,EACAsC,UAAAA,EACAU,MAAO,OACPC,MAAO,GAETC,QAAS,SAAA/B,GAEP,GADAY,EAAQK,KAAK,aACRjB,IACDA,EAAKX,OAAS,GAAGuB,EAAQoB,SACxBhC,EAAKX,QAAV,CACA,IAAM4C,EAAMnC,EAAUoB,IAAapB,EAAS,KAC5CE,EAAKkC,QAAQ,SAAAnC,GAAI,OAAIc,EAAUsB,OAAOF,EAAIlC,MAC1CH,WAAW,WAAA,OAAMiB,EAAUC,KAAK,kBAAkBnB,SAAS,SAAS,OAEtEyC,MAAO,WACLxB,EAAQK,KAAK","file":"../js/custom-scripts.min.js","sourcesContent":["/*!\r\n * theme custom scripts\r\n*/\r\n\r\njQuery(document).ready(function ($) {\r\n    const offset = document.body.clientWidth < 768 ? \"50%\" : \"bottom-in-view\";\r\n    $(\".menu .menu-header\").click(function () {\r\n        $(\".menu\").toggleClass(\"menu-open\");\r\n    });\r\n\r\n    $(document).click(function (event) {\r\n        if (!$(event.target).closest('.menu').length) {\r\n            $(\".menu\").removeClass(\"menu-open\");\r\n        }\r\n    });\r\n\r\n    $(\".menu a.nav-link:not(.dropdown-toggle), .menu a.dropdown-item\").click(function () {\r\n        $(\".menu\").removeClass(\"menu-open\");\r\n    });\r\n\r\n    $(\".fade-container:not(.hours .fade-container)\").waypoint({\r\n        handler: function () {\r\n            $(this.element).addClass(\"visible\");\r\n        },\r\n        offset\r\n    });\r\n\r\n    $(\".hours .fade-container\").waypoint({\r\n        handler: function () {\r\n            $(this.element).addClass(\"visible\");\r\n        },\r\n        offset: \"bottom-in-view\"\r\n    });\r\n\r\n    setTimeout(function () {\r\n        $(\"#hero-arrow\").effect(\"shake\");\r\n    }, 1000);\r\n});\r\n","jQuery(document).ready(function ($) {\r\n  const templates = {\r\n    post: data => `\r\n<div class=\"col-12 col-md-4 py-2 loadmore-item fade\">\r\n    <div class=\"blog-post-tile hover-shadow\">\r\n        <div class=\"post-image\" style=\"background-image: url('${data.image}')\">\r\n        </div>\r\n\r\n        <div class=\"post-date d-flex flex-row\">\r\n            <h1 class=\"post-day\">${data.date}</h1>\r\n            <div class=\"post-date-right d-flex flex-column justify-content-center\">\r\n                <h4 class=\"post-year\">${data.year}</h4>\r\n                <h4 class=\"post-month\">${data.month}</h4>\r\n            </div>\r\n        </div>\r\n\r\n        <h4 class=\"col-12\">${data.title || \"\"}</h4>\r\n\r\n        <section class=\"col-12\">\r\n            <p>${data.excerpt || \"\"}</p>\r\n        </section>\r\n\r\n        <a href=\"${data.link}\" class=\"grow-button\">Read More</a>\r\n    </div>\r\n</div>\r\n`,\r\n    review: data => `\r\n<div class=\"col-10 my-2 loadmore-item fade\">\r\n    <div class=\"hover-shadow review p-4\">\r\n        <h5 class=\"font-weight-bold\">${data.title || \"\"}</h5>\r\n\r\n        <section class=\"text-center\">\r\n            <p>${data.content || \"\"}</p>\r\n        </section>\r\n    </div>\r\n</div>\r\n`\r\n  };\r\n\r\n  $(\".loadmore-button\").click(function (e) {\r\n    const trigger = $(e.target);\r\n    const container = $(\".loadmore-container\");\r\n    const offset = container.find(\".loadmore-item\").length;\r\n    const {ajaxurl} = wp_params; // global object from server side\r\n    trigger.text(\"Loading\");\r\n\r\n    let posttype = container.data(\"posttype\") || \"post\";\r\n    let tax_query = [{\r\n      taxonomy: \"category\",\r\n      field: \"slug\",\r\n      terms: [\"reviews\"],\r\n      operator: \"NOT IN\",\r\n    }];\r\n    if(posttype === \"review\") {\r\n      tax_query = [{\r\n        taxonomy: \"category\",\r\n        field: \"slug\",\r\n        terms: [\"reviews\"],\r\n      }];\r\n    }\r\n    $.ajax({\r\n      url: ajaxurl,\r\n      type: \"post\",\r\n      json: true,\r\n      data: {\r\n        action: \"get_posts\",\r\n        offset,\r\n        tax_query,\r\n        order: \"DESC\",\r\n        count: 3\r\n      },\r\n      success: data => {\r\n        trigger.text(\"Load More\");\r\n        if (!data) return;\r\n        if (data.length < 3) trigger.remove();\r\n        if (!data.length) return;\r\n        const tpl = templates[posttype] || templates[\"post\"];\r\n        data.forEach(post => container.append(tpl(post)));\r\n        setTimeout(() => container.find(\".loadmore-item\").addClass(\"show\"), 100);\r\n      },\r\n      error: () => {\r\n        trigger.text(\"Load More\");\r\n      },\r\n    });\r\n  });\r\n});\r\n"],"sourceRoot":"wp-theme-files"}